<md-card class="leader-brief-card" [routerLink]="['/leader/', leader._id]" *ngIf="viewContext==='homePage'">
  <div md-card-avatar class="leader-brief-card-header-image"></div>
  <md-card-title title="{{leader.email}}">{{leader.name}} {{leader.surName}}</md-card-title>
  <div class="md-card-image-clipper">
    <img md-card-image src="{{leader.photo || 'assets/img/avatar.jpg'}}">
  </div>
  <md-card-content>
    <md-card-subtitle>Місія: {{leader.mission}}</md-card-subtitle>
    <p>Бачення: {{leader.vision}}</p>
  </md-card-content>
  <md-card-actions>
    <a [routerLink]="['/leader/', leader._id]"><button md-button>Підтримати</button></a>
    <!-- <a [routerLink]="['/leaders']"><button md-button>Усі діячі</button></a> -->
  </md-card-actions>
</md-card>

<!-- </md-card-header> -->
<!-- <md-card-header> -->
<!-- State: Leader List Page -->

<!-- *ngIf="viewContext==='leaderListPage'" -->

<md-card class="leader-list-card" [routerLink]="['/leader/', leader._id]" *ngIf="viewContext==='leaderListPage'" >
  <div fxLayout="row" fxLayoutGap="5%" fxLayoutAlign="space-between stretch" fxLayout.xs="column">
    <div fxFlex="35">
      <app-image class="leader-photo" [src]="leader.photo || 'assets/img/avatar-generic.png'"></app-image>
    </div>
    <div fxFlex="65">
      <md-card-title>
        <a [routerLink] = "['/leader/' + leader._id]" title="{{leader.email}}">
          {{leader.name}} {{leader.surName}}
          <span *ngIf="userService.isOwner(leader)">
            [я]
          </span>
        </a>

      </md-card-title>
      <div><b>Проектів:</b> {{leader.projects?.length}}</div>
      <p><b>Місія:</b> {{leader.mission}}</p>
      <p><b>Візія:</b> {{leader.vision}}</p>
      <button class="lead-button" [routerLink] = "['/leader/' + leader._id]" md-button color="accent">Підтримати</button>
      <span class="leader-iconbar" *ngIf="userService.hasEditPermissions(leader)">
        <button md-icon-button [routerLink]="['/leader/' + leader._id + '/edit']"><md-icon>edit</md-icon></button>
        <!-- <a [routerLink] = "['/leader/' + leader._id + '/edit']"><button md-button color="accent">Редагувати</button></a> -->
        <!-- todo: restore deleteLeader for list view <a href (click) = "deleteLeader(leader)"><button md-button color="warn">Видалити</button></a> -->
      </span>
    </div>
  </div>

</md-card>

<!-- Brief on Home page -->
<!-- Item Brief View (for display in compact lists) -->
<md-card class="leader-list-card list-brief" [routerLink]="['/leader/', leader._id]" *ngIf="viewContext==='compactLeaderList'" >
  <app-image class="leader-photo" [src]="leader.photo || 'assets/img/avatar-generic.png'"></app-image>
  <h2 title="{{leader.email}}">{{leader.name}} {{leader.surName}}</h2>
  <p>{{leader.mission}}</p>
</md-card>
